{"version":3,"sources":["store/actions/actionTypes.js","store/actions/main.js","store/actions/popup.js","components/Item/Item.js","components/AddItem/AddItem.js","components/Dropdown/Dropdown.js","components/List/List.js","components/AddCol/AddCol.js","containers/AddPopup/AddPopup.js","components/Loader/Loader.js","App.js","store/reducers/main.js","store/reducers/popup.js","store/reducers/rootReducer.js","index.js"],"names":["FETCH_DATA_START","FETCH_DATA_SUCCESS","FETCH_DATA_ERROR","UPDATE_LIST","LOCAL_DATA","RESET_POPUP","NEW_CARD","fetch","dispatch","a","axios","get","then","response","lists","data","type","catch","error","fetchDataError","updateLocalList","addCard","card","id","close","Object","entries","forEach","key","list","cards","assign","Math","floor","random","newCard","getDataOfColumn","action","getState","keyCol","keyCard","column","substring","end","indexOf","start","main","value","localData","sortByOrder","obj","sort","b","order","Item","this","props","detail","tags","draggableId","itemKey","index","provided","className","draggableProps","ref","innerRef","dragHandleProps","to","parentKey","length","map","tag","title","onClick","deleteCard","React","Component","connect","put","AddItem","Dropdown","document","addEventListener","closeHandler","removeEventListener","deleteColumn","deleteAllCards","delete","List","state","contextMenu","titleInput","activeInput","clickHandler","setState","target","querySelector","contains","switchInput","e","preventDefault","closeInput","console","log","renameTitle","sortedCards","String","droppableId","autoFocus","onChange","droppableProps","i","placeholder","AddCol","changeHandler","event","inputValue","openInput","active","closeListener","addColumn","col","createColumn","bind","nameInput","focus","formCls","push","join","input","keys","item","values","post","AddPopup","inputHandler","name","popupClose","history","goBack","resetPopup","saveCard","createCard","detailInput","green","yellow","orange","red","purple","blue","location","pathname","tempTags","onSubmit","popup","cardsLength","filter","Loader","App","onDragEnd","result","destination","source","_","isEqual","dragged","fetchData","sortedList","direction","loading","path","component","withRouter","droppableIdStart","droppableIdEnd","droppableIndexStart","droppableIndexEnd","list1","list2","initialState","combineReducers","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","render","getElementById"],"mappings":"qdAAaA,EAAmB,mBACnBC,EAAqB,qBACrBC,EAAmB,mBACnBC,EAAc,cAEdC,EAAa,aACbC,EAAc,cAEdC,EAAW,WCIjB,SAASC,IACf,8CAAO,WAAMC,GAAN,SAAAC,EAAA,sEACAC,IAAMC,IAAI,qEACdC,MAAK,SAAAC,GAAQ,OAAIL,GAWYM,EAXcD,EAASE,KAYhD,CACNC,KAAMf,EACNa,WAHK,IAA0BA,KAV7BG,OAAM,SAAAC,GAAK,OAAIV,EAASW,EAAeD,OAHnC,2CAAP,sDAoBM,SAASC,EAAeD,GAC9B,MAAO,CACNF,KAAMd,EACNgB,SAkBK,SAASE,EAAgBN,GAC/B,MAAO,CACNE,KAAMb,EACNW,SAIK,SAASO,EAAQC,EAAMC,EAAIC,EAAOV,GACxC,8CAAO,WAAON,GAAP,SAAAC,EAAA,sDAENgB,OAAOC,QAAQZ,GAAOa,SAAQ,YAAkB,IAAD,mBAAfC,EAAe,KAAVC,EAAU,KAC1CD,IAAQL,IACPM,EAAKC,MACRL,OAAOM,OAAOF,EAAKC,MAAnBL,OAAA,IAAAA,CAAA,GAA6BO,KAAKC,MAAsB,IAAhBD,KAAKE,UAAmBZ,IAEhEO,EAAKC,MAAQ,CAAER,YAKlBE,IACAhB,EAAS2B,EAAQrB,IAbX,2CAAP,sDAiBM,SAASqB,EAAQrB,GACvB,MAAO,CACNE,KAAMV,EACNQ,SAIK,SAASsB,EAAgBb,EAAIc,GACnC,OAAO,SAAC7B,EAAU8B,GACjB,IAAIC,EAAS,GACTC,EAAU,GACVC,EAAS,GACTnB,EAAO,GAIX,GAFe,QAAXe,IACHE,EAAShB,EAAGmB,UAAU,IACR,SAAXL,EAAmB,CACtB,IAAIM,EAAMpB,EAAGqB,QAAQ,QAAU,EAC3BC,EAAQ,EACZN,EAAShB,EAAGmB,UAAUG,EAAOF,GAE7BE,EAAQF,EAAM,EACdH,EAAUjB,EAAGmB,UAAUG,GAExB,IAAM/B,EAAQwB,IAAWQ,KAAKhC,MAE9BW,OAAOC,QAAQZ,GAAOa,SAAQ,YAAkB,IAAD,mBAAfC,EAAe,KAAVC,EAAU,KAC1CU,IAAWX,IACda,EAASZ,MAKPY,EAAOX,OAASU,GACnBf,OAAOC,QAAQe,EAAOX,OAAOH,SAAQ,YAAmB,IAAD,mBAAhBC,EAAgB,KAAXmB,EAAW,KAClDP,IAAYZ,IACfN,EAAOyB,MAOVvC,ECrEK,SAAmBiC,EAAQnB,EAAMe,EAAQE,EAAQC,GACvD,MAAO,CACNxB,KAAMZ,EACNqC,SACAnB,OACAe,SACAE,SACAC,WD8DSQ,CAAUP,EAAQnB,EAAMe,EAAQE,EAAQC,KAsD5C,SAASS,EAAYC,EAAKlC,GAChC,MAAa,QAATA,EACIS,OAAOC,QAAQwB,GAAKC,MAAK,SAAC1C,EAAG2C,GAAJ,OAAW3C,EAAE,GAAG4C,MAAQD,EAAE,GAAGC,MAAS,GAAK,KAC/D,SAATrC,EACIS,OAAOC,QAAQwB,GAAKC,MAAK,SAAC1C,EAAG2C,GAAJ,OAAW3C,EAAE,GAAG4C,MAAQD,EAAE,GAAGC,MAAS,GAAK,UAD5E,E,mBE5KKC,E,4JAEL,WAAU,IAAD,SACwBC,KAAKC,MAAMlC,KAAnCmC,EADA,EACAA,OADA,IACQC,YADR,MACe,KADf,EAER,OACC,cAAC,IAAD,CAAWC,YAAaJ,KAAKC,MAAMI,QAASC,MAAON,KAAKC,MAAMK,MAA9D,SACE,SAAAC,GAAQ,OACR,yDACCC,UAAU,cACND,EAASE,gBAFd,IAGCC,IAAKH,EAASI,UACVJ,EAASK,iBAJd,cAMC,eAAC,IAAD,CAAMC,GAAE,WAAM,EAAKZ,MAAMa,UAAjB,iBAAmC,EAAKb,MAAMI,SAAtD,UAEEF,GAAwB,IAAhBA,EAAKY,OACV,qBAAKP,UAAU,YAAf,SACAL,EAAKa,KAAI,SAACC,EAAKX,GAAN,OAAgB,sBAAkBE,UAAWS,GAAlBX,QAEpC,KAEH,EAAKL,MAAMlC,KAAKmD,MAChBhB,EACE,qBAAKM,UAAU,YAAf,SACAN,EAAS,mBAAGM,UAAU,kBAAqB,OAE3C,QAGJ,wBAAQA,UAAU,mBAAmBW,QAAS,kBAAM,EAAKlB,MAAMmB,WAAW,EAAKnB,MAAMa,UAAW,EAAKb,MAAMI,UAA3G,SACC,mBAAGG,UAAU,kC,GA9BDa,IAAMC,WA6CVC,cAAQ,MANI,SAAAtE,GAC1B,MAAO,CACNmE,WAAY,SAACpC,EAAQC,GAAT,OAAqBhC,EF8E5B,SAAoB+B,EAAQC,GAClC,8CAAO,WAAOhC,EAAU8B,GAAjB,qBAAA7B,EAAA,sEACiBC,IAAMC,IAAI,qEAD3B,cACAE,EADA,OAEFC,EAAQD,EAASE,KAAOF,EAASE,KAAO,GACtCe,EAAQhB,EAAMyB,GAAQT,MACtBuB,EAAQvB,EAAMU,GAASa,aAEtBvB,EAAMU,GACbf,OAAOC,QAAQI,GAAOH,SAAQ,YAAmB,IAAD,mBAAhBC,EAAgB,KAAXmB,EAAW,KAC3CA,EAAMM,MAAQA,IACjBvB,EAAMF,GAAKyB,QAAUN,EAAMM,UAI7B7C,EAASY,EAAgBN,IAbnB,UAcAJ,IAAMqE,IAAN,uEAA0ExC,EAA1E,eAA+FT,GAd/F,QAeNtB,EAASD,KAfH,4CAAP,wDE/E2CoE,CAAWpC,EAAQC,QAIhDsC,CAAkCxB,GCpClC0B,G,kKAXd,WACC,OACC,eAAC,IAAD,CAAMZ,GAAE,mBAAcb,KAAKC,MAAMjC,IAChCwC,UAAU,UADX,UAEC,mBAAGA,UAAU,gBACb,4I,GANkBa,IAAMC,YCEtBI,G,6KAEL,WACCC,SAASC,iBAAiB,QAAS5B,KAAKC,MAAM4B,gB,kCAG/C,WACCF,SAASG,oBAAoB,QAAS9B,KAAKC,MAAM4B,gB,oBAGlD,WAAU,IAAD,OACR,OACC,sBAAKrB,UAAU,WAAf,UACC,0IACA,uBACA,qBAAIA,UAAU,iBAAd,UAMC,6BACC,wBAAQW,QAAS,kBAAM,EAAKlB,MAAM8B,aAAa,EAAK9B,MAAMjC,KAA1D,+FAID,6BACC,wBAAQmD,QAAS,WAChB,EAAKlB,MAAM+B,eAAe,EAAK/B,MAAMjC,IACrC,EAAKiC,MAAMhC,SAFZ,6K,GA3BiBoD,IAAMC,YA+CdC,cAAQ,MAPI,SAAAtE,GAC1B,MAAO,CACN8E,aAAc,SAAA1D,GAAG,OAAIpB,GJkGM+B,EIlGgBX,EJmG5C,uCAAO,WAAOpB,EAAU8B,GAAjB,mBAAA7B,EAAA,sEACiBC,IAAMC,IAAI,qEAD3B,cACAE,EADA,OAEFC,EAAQD,EAASE,KAAOF,EAASE,KAAO,GACxCsC,EAAQvC,EAAMyB,GAAQc,aACnBvC,EAAMyB,GACbd,OAAOC,QAAQZ,GAAOa,SAAQ,YAAmB,IAAD,mBAAhBC,EAAgB,KAAXmB,EAAW,KAC3CA,EAAMM,MAAQA,IACjBvC,EAAMc,GAAKyB,QAAUN,EAAMM,UAG7B7C,EAASY,EAAgBN,IAVnB,UAYAJ,IAAMqE,IAAI,oEAAqEjE,GAZ/E,QAaNN,EAASD,KAbH,4CAAP,0DADM,IAAsBgC,GIjG3BgD,eAAgB,SAAA3D,GAAG,OAAIpB,EJmHlB,SAAwBoB,GAC9B,8CAAO,WAAOpB,EAAU8B,GAAjB,iBAAA7B,EAAA,sEACiBC,IAAMC,IAAI,qEAD3B,cACAE,EADA,cAEFC,EAAQD,EAASE,KAAOF,EAASE,KAAO,IAC/Ba,GAAKE,MAElBtB,EAASY,EAAgBN,IALnB,SAMAJ,IAAM8E,OAAN,uEAA6E5D,EAA7E,gBANA,OAONpB,EAASD,KAPH,2CAAP,wDIpHiCgF,CAAe3D,QAIlCkD,CAAkCG,GC+DlCQ,E,4MAzGdC,MAAQ,CACPC,aAAa,EACbC,WAAY,EAAKpC,MAAM3B,KAAK4C,MAC5BoB,aAAa,G,EAIdC,aAAe,kBAAM,EAAKJ,MAAMC,YAAc,EAAKI,SAAL,2BAAmB,EAAKL,OAAxB,IAA+BC,aAAa,KAAW,EAAKI,SAAL,2BAAmB,EAAKL,OAAxB,IAA+BC,aAAa,M,EAEjJP,aAAe,YAAiB,IAAdY,EAAa,EAAbA,OACQ,sBAArBA,EAAOjC,YAEP,EAAK2B,MAAMC,YACTT,SAASe,cAAc,aAAaC,SAASF,IACjD,EAAKD,SAAL,2BAAmB,EAAKL,OAAxB,IAA+BC,aAAa,KAG7C,EAAKI,SAAL,2BAAmB,EAAKL,OAAxB,IAA+BC,aAAa,O,EAG9CQ,YAAc,SAAAC,GACbA,EAAEC,iBAEF,EAAKN,SAAL,2BAAmB,EAAKL,OAAxB,IAA+BG,aAAa,KAC5CX,SAASC,iBAAiB,QAAS,EAAKmB,a,EAGzCA,WAAa,SAAAF,GACe,UAAvBA,EAAEJ,OAAOjC,WAAgD,aAAvBqC,EAAEJ,OAAOjC,YAE1C,EAAK2B,MAAME,YAKhB,EAAKG,SAAL,2BAAmB,EAAKL,OAAxB,IAA+BG,aAAa,KAC5CU,QAAQC,IAAI,aAAc,EAAKd,MAAME,YACrC,EAAKpC,MAAMiD,YAAY,EAAKjD,MAAMjC,GAAI,EAAKmE,MAAME,aANhD,EAAKG,SAAS,CAAEH,WAAY,EAAKpC,MAAM3B,KAAK4C,U,4CAW9C,WAAU,IAAD,OACFiC,EAAcnD,KAAKC,MAAM3B,KAAKC,MAAQmB,EAAYM,KAAKC,MAAM3B,KAAKC,MAAO,QAAU,KAKzF,OAJKyB,KAAKmC,MAAMG,aACfX,SAASG,oBAAoB,QAAS9B,KAAK+C,YAI3C,cAAC,IAAD,CACC3C,YAAagD,OAAOpD,KAAKC,MAAMjC,IAC/BsC,MAAON,KAAKC,MAAMK,MAFnB,SAIE,SAAAC,GAAQ,OACR,2DACKA,EAASE,gBADd,IAECC,IAAKH,EAASI,UACVJ,EAASK,iBAHd,aAKC,cAAC,IAAD,CAAWyC,YAAaD,OAAO,EAAKnD,MAAMjC,IAAKP,KAAK,OAApD,SACE,SAAA8C,GAAQ,OACR,sBAAKC,UAAU,OAAf,UACC,sBAAKA,UAAW,WAAhB,UACE,EAAK2B,MAAMG,YACT,uBACD9B,UAAU,QACVhB,MAAO,EAAK2C,MAAME,WAClBiB,WAAW,EACXC,SAAU,SAAAV,GAAC,OAAI,EAAKL,SAAL,2BAAmB,EAAKL,OAAxB,IAA+BE,WAAYQ,EAAEJ,OAAOjD,YAElE,oBAAIgB,UAAU,WAAWW,QAAS,EAAKyB,YAAvC,SAAqD,EAAKT,MAAME,aAEnE,sBAAK7B,UAAU,eAAf,UACC,mBAAGA,UAAU,oBAAoBW,QAAS,EAAKoB,eAE9C,EAAKJ,MAAMC,YACR,cAAC,EAAD,CAA8BpE,GAAI,EAAKiC,MAAMjC,GAAI6D,aAAc,EAAKA,aAAc5D,MAAO,kBAAM,EAAKuE,SAAS,CAAEJ,aAAa,MAA7G,EAAKnC,MAAMjC,IAC1B,WAIN,+CACKuC,EAASiD,gBADd,IAEC9C,IAAKH,EAASI,SACdH,UAAU,QAHX,UAME2C,EACGA,EAAYnC,KAAI,WAAeyC,GAAf,uBAAEpF,EAAF,KAAOmB,EAAP,YAAqB,cAAC,EAAD,CAAMa,QAAShC,EAAKyC,UAAW,EAAKb,MAAMjC,GAAcD,KAAMyB,EAAOc,MAAOmD,GAAzBpF,MACxF,KAEHkC,EAASmD,gBAEX,cAAC,EAAD,CAA0C1F,GAAI,EAAKiC,MAAMjC,GAAIkD,MAAO,EAAKjB,MAAMiB,OAA/E,kBAAyB,EAAKjB,MAAMjC,qB,GAhG1BqD,IAAMC,W,QCHnBqC,G,wDACL,WAAY1D,GAAQ,IAAD,8BAClB,cAAMA,IAMP2D,cAAgB,SAAAC,GACf,EAAKrB,SAAS,CACbsB,WAAYD,EAAMpB,OAAOjD,SATR,EAcnBuE,UAAY,WACP,EAAK5B,MAAM6B,SAGf,EAAKxB,SAAL,2BACI,EAAKL,OADT,IAEC6B,QAAQ,KAETrC,SAASC,iBAAiB,QAAS,EAAKqC,iBAtBtB,EAyBnBA,cAAgB,YAAiB,IAAdxB,EAAa,EAAbA,OACHd,SAASe,cAAc,WAC1BC,SAASF,KACpB,EAAKM,aACLpB,SAASG,oBAAoB,QAAS,EAAKmC,iBA7B1B,EAiCnBpC,aAAe,SAAAgC,GACdA,EAAMf,iBAEN,EAAKC,cApCa,EAuCnBA,WAAa,WACZ,EAAKP,SAAL,2BACI,EAAKL,OADT,IAEC2B,WAAY,GACZE,QAAQ,MA3CS,EA+CnBE,UAAY,SAAAL,GAGX,GAFAA,EAAMf,iBAED,EAAKX,MAAM2B,WAAhB,CAGA,IAAMK,EAAM,CACXjD,MAAO,EAAKiB,MAAM2B,WAClBhE,MAAO,EAAKG,MAAMc,OAClBxC,MAAO,IAER,EAAK0B,MAAMmE,aAAaD,GACxB,EAAKpB,eAzDL,EAAKZ,MAAQ,CAAE2B,WAAY,GAAIE,QAAQ,GAEvC,EAAKJ,cAAgB,EAAKA,cAAcS,KAAnB,gBAJH,E,sDA8DnB,WACKrE,KAAKmC,MAAM6B,QACdhE,KAAKsE,UAAUC,U,oBAIjB,WAAU,IAAD,OACJC,EAAU,CAAC,UAKf,OAHIxE,KAAKmC,MAAM6B,QACdQ,EAAQC,KAAK,UAGb,uBAAMjE,UAAWgE,EAAQE,KAAK,KAAMvD,QAASnB,KAAK+D,UAAlD,UACC,sBAAKvD,UAAU,sBAAf,UACC,mBAAGA,UAAU,gBACb,kIAED,sBAAKA,UAAU,eAAf,UACC,uBACChB,MAAOQ,KAAKmC,MAAM2B,WAClBtD,UAAU,gBACV/C,KAAK,OACL8F,SAAUvD,KAAK4D,cACflD,IAAK,SAACiE,GAAY,EAAKL,UAAYK,GACnCjB,YAAY,qIAEb,sBAAKlD,UAAU,eAAf,UACC,wBAAQA,UAAU,oBAAoBW,QAASnB,KAAKkE,UAApD,mGACA,wBAAQ1D,UAAU,sBAAsBW,QAASnB,KAAK6B,aAAtD,SAAoE,mBAAGrB,UAAU,gC,GA5FlEa,IAAMC,YAgHZC,eAZS,SAAAY,GACvB,MAAO,CACNpB,OAAQ7C,OAAO0G,KAAKzC,EAAM5C,KAAKhC,OAAOwD,WAIb,SAAA9D,GAC1B,MAAO,CACNmH,aAAc,SAAAS,GAAI,OAAI5H,ENzEjB,SAAsB4H,GAC5B,8CAAO,WAAO5H,EAAU8B,GAAjB,iBAAA7B,EAAA,sEACiBC,IAAMC,IAAI,qEAD3B,cACAE,EADA,OAEN0F,QAAQC,IAAI3F,EAASE,MACjBD,EAAQW,OAAO4G,OAAOxH,EAASE,KAAOF,EAASE,KAAO,IAC1DwF,QAAQC,IAAI1F,GACZA,EAAMkH,KAAKI,GACX5H,EAASY,EAAgBN,IANnB,UAQAJ,IAAM4H,KAAK,oEAAqEF,GARhF,QASN5H,EAASD,KATH,4CAAP,wDMwEgCoH,CAAaS,QAI/BtD,CAA6CoC,GC9GtDqB,G,wDAEL,WAAY/E,GAAQ,IAAD,8BAClB,cAAMA,IAiBPgF,aAAe,YAAiB,IAAdxC,EAAa,EAAbA,OACXyC,EAAOzC,EAAOyC,KACpB,EAAK1C,SAAL,eAAiB0C,EAAOzC,EAAOjD,SApBb,EAuBnB2F,WAAa,WACQ,EAAKlF,MAAjBmF,QACAC,UAzBU,EA4BnBxD,aAAe,YAAgB,EAAbY,OACNjC,YAAcmB,SAASe,cAAc,YAAYlC,YAC3D,EAAK2E,aACL,EAAKlF,MAAMqF,eA/BM,EA0DnBC,SAAW,SAAA1B,GACVA,EAAMf,iBAED,EAAKX,MAAME,YAGhB,EAAKpC,MAAMuF,WAAW,EAAKrD,MAAO,EAAKgD,aA7DvC,EAAKhD,MAAQ,CACZE,WAAY,GACZoD,YAAa,GACbtF,KAAM,CACLuF,OAAO,EACPC,QAAQ,EACRC,QAAQ,EACRC,KAAK,EACLC,QAAQ,EACRC,MAAM,IAGR,EAAKd,aAAe,EAAKA,aAAaZ,KAAlB,gBAfF,E,qDAmCnB,WAIC,GAHA1C,SAASC,iBAAiB,QAAS5B,KAAK6B,cAExC7B,KAAKC,MAAMpB,gBAAgBmB,KAAKC,MAAMmF,QAAQY,SAASC,SAAUjG,KAAKC,MAAMnB,QAClD,SAAtBkB,KAAKC,MAAMnB,QAAqBkB,KAAKC,MAAMlC,OAC9CiC,KAAKwC,SAAS,CACbH,WAAYrC,KAAKC,MAAMlC,KAAOiC,KAAKC,MAAMlC,KAAKmD,MAAQ,GACtDuE,YAAazF,KAAKC,MAAMlC,KAAOiC,KAAKC,MAAMlC,KAAKmC,OAAS,KAErDF,KAAKC,MAAMlC,KAAKoC,MAAM,CACzB,IAAI+F,EAAQ,eAAQlG,KAAKmC,MAAMhC,MAC/BH,KAAKC,MAAMlC,KAAKoC,KAAK/B,SAAQ,SAAA6C,GAC5BiF,EAASjF,IAAO,KAEjBjB,KAAKwC,SAAS,CAAErC,KAAM+F,O,kCAKzB,WACCvE,SAASG,oBAAoB,QAAS9B,KAAK6B,gB,oBAa5C,WAAU,IAAD,OACR,OACC,qBAAKrB,UAAU,UAAf,SACC,sBAAKA,UAAU,WAAf,UACC,qBAAKA,UAAU,kBAAkBW,QAASnB,KAAKmF,WAA/C,SACC,mBAAG3E,UAAU,mBAEd,uBAAM2F,SAAUnG,KAAKuF,SAAU/E,UAAU,iBAAzC,UACC,mBAAGA,UAAU,eACb,uBACC0E,KAAK,aACL1E,UAAU,uBACVkD,YAAY,8FACZlE,MAAOQ,KAAKmC,MAAME,WAClBkB,SAAUvD,KAAKiF,eAEhB,sBAAKzE,UAAU,qBAAf,8DAEC,uCAAUR,KAAKC,MAAMf,OAAOgC,eAG9B,sBAAKV,UAAU,eAAf,UACC,mEACA,sBAAKA,UAAU,kBAAf,UACC,sBAAMA,UAAU,QAAQW,QAAS,kBAAM,EAAKqB,SAAS,CAAErC,KAAK,2BAAM,EAAKgC,MAAMhC,MAAlB,IAAwBuF,OAAQ,EAAKvD,MAAMhC,KAAKuF,WAA3G,SACE1F,KAAKmC,MAAMhC,KAAKuF,MAAQ,mBAAGlF,UAAU,iBAAoB,OAE3D,sBAAMA,UAAU,SAASW,QAAS,kBAAM,EAAKqB,SAAS,CAAErC,KAAK,2BAAM,EAAKgC,MAAMhC,MAAlB,IAAwBwF,QAAS,EAAKxD,MAAMhC,KAAKwF,YAA7G,SACE3F,KAAKmC,MAAMhC,KAAKwF,OAAS,mBAAGnF,UAAU,iBAAoB,OAE5D,sBAAMA,UAAU,SAASW,QAAS,kBAAM,EAAKqB,SAAS,CAAErC,KAAK,2BAAM,EAAKgC,MAAMhC,MAAlB,IAAwByF,QAAS,EAAKzD,MAAMhC,KAAKyF,YAA7G,SACE5F,KAAKmC,MAAMhC,KAAKyF,OAAS,mBAAGpF,UAAU,iBAAoB,OAE5D,sBAAMA,UAAU,MAAMW,QAAS,kBAAM,EAAKqB,SAAS,CAAErC,KAAK,2BAAM,EAAKgC,MAAMhC,MAAlB,IAAwB0F,KAAM,EAAK1D,MAAMhC,KAAK0F,SAAvG,SACE7F,KAAKmC,MAAMhC,KAAK0F,IAAM,mBAAGrF,UAAU,iBAAoB,OAEzD,sBAAMA,UAAU,SAASW,QAAS,kBAAM,EAAKqB,SAAS,CAAErC,KAAK,2BAAM,EAAKgC,MAAMhC,MAAlB,IAAwB2F,QAAS,EAAK3D,MAAMhC,KAAK2F,YAA7G,SACE9F,KAAKmC,MAAMhC,KAAK2F,OAAS,mBAAGtF,UAAU,iBAAoB,OAE5D,sBAAMA,UAAU,OAAOW,QAAS,kBAAM,EAAKqB,SAAS,CAAErC,KAAK,2BAAM,EAAKgC,MAAMhC,MAAlB,IAAwB4F,MAAO,EAAK5D,MAAMhC,KAAK4F,UAAzG,SACE/F,KAAKmC,MAAMhC,KAAK4F,KAAO,mBAAGvF,UAAU,iBAAoB,aAI5D,sBAAKA,UAAU,kBAAf,UACC,sBAAKA,UAAU,yBAAf,UACC,mBAAGA,UAAU,kBACb,qFAED,0BACC0E,KAAK,cACL1E,UAAU,yBACVkD,YAAY,8JACZlE,MAAOQ,KAAKmC,MAAMsD,YAClBlC,SAAUvD,KAAKiF,kBAGjB,sBAAKzE,UAAU,iBAAf,UACC,wBAAQA,UAAU,uBAAuBW,QAASnB,KAAKuF,SAAvD,oEACA,wBAAQ/E,UAAU,wBAAwBW,QAASnB,KAAKmF,WAAxD,SAAqE,mBAAG3E,UAAU,+B,GAjIjEa,IAAMC,YAwJdC,eAfS,SAAAY,GACvB,MAAO,CACNjD,OAAQiD,EAAMiE,MAAMlH,OACpBnB,KAAMoE,EAAMiE,MAAMrI,SAIO,SAAAd,GAC1B,MAAO,CACN4B,gBAAiB,SAACb,EAAIc,GAAL,OAAgB7B,EAAS4B,EAAgBb,EAAIc,KAC9DwG,WAAY,kBAAMrI,EN1GZ,CACNQ,KAAMX,KM0GN0I,WAAY,SAACrD,EAAOlE,GAAR,OAAkBhB,ENtJzB,SAAoBkF,EAAOlE,GACjC,8CAAO,WAAOhB,EAAU8B,GAAjB,iCAAA7B,EAAA,+DAC8B6B,IAAWqH,MAAvCtH,EADF,EACEA,OAAQE,EADV,EACUA,OAAQC,EADlB,EACkBA,QADlB,SAGiB9B,IAAMC,IAAI,qEAH3B,UAGAE,EAHA,OAIFC,EAAQD,EAASE,KAAOF,EAASE,KAAO,GACtCe,EAAQhB,EAAMyB,GAAQT,MAGb,QAAXO,EARE,wBASCuH,EAAc9H,EAAQL,OAAO4G,OAAOvG,GAAOwC,OAAS,EAEpDhD,EAAO,CACZmC,OAAQiC,EAAMsD,YACdvE,MAAOiB,EAAME,WACbvC,MAAOuG,EACPlG,KAAMjC,OAAO0G,KAAKzC,EAAMhC,MAAMmG,QAAO,SAAAjI,GAAG,OAAI8D,EAAMhC,KAAK9B,OAGxDpB,EAASa,EAAQC,EAAMiB,EAAQf,EAAOV,IAlBjC,UAmBCJ,IAAM4H,KAAN,uEAA2E/F,EAA3E,eAAgGjB,GAnBjG,QAoBLd,EAASD,KApBJ,WAuBS,SAAX8B,EAvBE,wBAwBCf,EAxBD,2BAyBDQ,EAAMU,IAzBL,IA0BJiB,OAAQiC,EAAMsD,YACdvE,MAAOiB,EAAME,WACblC,KAAMjC,OAAO0G,KAAKzC,EAAMhC,MAAMmG,QAAO,SAAAjI,GAAG,OAAI8D,EAAMhC,KAAK9B,QAGxDd,EAAMyB,GAAQT,MAAMU,GAAWlB,EAC/Bd,EAASY,EAAgBN,IACzBU,IAjCK,UAmCCd,IAAMqE,IAAN,uEAA0ExC,EAA1E,kBAA0FC,EAA1F,SAA0GlB,GAnC3G,QAoCLd,EAASD,KApCJ,4CAAP,wDMqJwCwI,CAAWrD,EAAOlE,QAI5CsD,CAA6CyD,GC/I7CuB,G,MAbA,WACd,OACC,sBAAK/F,UAAU,SAAf,UACC,sBAAMA,UAAU,QAChB,sBAAKA,UAAU,OAAf,UACC,yBACA,yBACA,iC,wBCEEgG,E,4MAMLC,UAAY,SAAAC,GAAW,IACdC,EAA2CD,EAA3CC,YAAaC,EAA8BF,EAA9BE,OAAQxG,EAAsBsG,EAAtBtG,YAAa3C,EAASiJ,EAATjJ,KAErCkJ,IAAeE,IAAEC,QAAQF,EAAQD,IAGtC,EAAK1G,MAAM8G,QACVH,EAAOvD,YACPsD,EAAYtD,YACZuD,EAAOtG,MACPqG,EAAYrG,MACZF,EACA3C,I,uDAhBF,WACCuC,KAAKC,MAAM+G,c,oBAmBZ,WAAU,IAAD,OACFC,EAAavH,EAAYM,KAAKC,MAAM1C,MAAO,OACjD,OACC,cAAC,IAAD,CAAiBkJ,UAAWzG,KAAKyG,UAAjC,SACC,sBAAKjG,UAAU,MAAf,UACC,wBAAQA,UAAU,SAAlB,uBAGA,cAAC,IAAD,CAAW6C,YAAY,YAAY6D,UAAU,aAAazJ,KAAK,OAA/D,SACE,SAAA8C,GAAQ,OACR,8CACCC,UAAU,iBACND,EAASiD,gBAFd,IAGC9C,IAAKH,EAASI,SAHf,UAMEsG,EACG,EAAKhH,MAAMkH,QACV,cAAC,EAAD,IACF,mCACEF,EAAWjG,KAAI,WAAeyC,GAAf,uBAAEpF,EAAF,KAAOmB,EAAP,YAAqB,cAAC,EAAD,CAAMxB,GAAIK,EAAeC,KAAMkB,EAAOc,MAAOmD,EAAGP,YAAa,EAAKjD,MAAMiD,aAApD7E,QAEzD,KAEHkC,EAASmD,YACV,cAAC,EAAD,WAIH,cAAC,IAAD,CACC0D,KAAM,eACNC,UAAW,kBAAM,cAAC,EAAD,CAAUvI,OAAO,MAAMsG,QAAS,EAAKnF,MAAMmF,aAE7D,cAAC,IAAD,CACCgC,KAAM,gBACNC,UAAW,kBAAM,cAAC,EAAD,CAAUvI,OAAO,OAAOsG,QAAS,EAAKnF,MAAMmF,sB,GAzDjD/D,IAAMC,WA2FTgG,cAAW/F,aA1BF,SAAAY,GACvB,MAAO,CACN5E,MAAO4E,EAAM5C,KAAKhC,MAClB4J,QAAShF,EAAM5C,KAAK4H,QACpBxJ,MAAOwE,EAAM5C,KAAK5B,UAIO,SAAAV,GAC1B,MAAO,CACN+J,UAAW,kBAAM/J,ETlFlB,uCAAO,WAAOA,GAAP,SAAAC,EAAA,sDACND,EAeM,CACNQ,KAAMhB,IAdNQ,EAASD,KAHH,2CAAP,wDSmFC+J,QAAS,SAACQ,EACTC,EACAC,EACAC,EACAtH,EACA3C,GALQ,OAKCR,ET0FL,SACNsK,EACAC,EACAC,EACAC,EACAtH,EACA3C,GAEA,8CAAO,WAAOR,EAAU8B,GAAjB,qBAAA7B,EAAA,6DAEFK,EAFE,eAEWwB,IAAWQ,KAAKhC,OAEpB,SAATE,IACHgK,EAAsBlK,EAAMgK,GAAkBhJ,MAAQL,OAAO4G,OAAOvH,EAAMgK,GAAkBhJ,OAAOwC,OAAS0G,EAAsB,EAAI,EACtIC,EAAoBnK,EAAMiK,GAAgBjJ,MAAQL,OAAO4G,OAAOvH,EAAMiK,GAAgBjJ,OAAOwC,OAAS2G,EAAoB,EAAI,EAG1HH,IAAqBC,GACpBC,EAAsBC,EACzBxJ,OAAOC,QAAQZ,EAAMgK,GAAkBhJ,OAAOH,SAAQ,YAAkB,IAAD,mBAAfC,EAAe,KAAVN,EAAU,KAClE2J,GAAqB3J,EAAK+B,OAAS/B,EAAK+B,MAAQ2H,GACnDlK,EAAMgK,GAAkBhJ,MAAMF,GAAKyB,WAOrC5B,OAAOC,QAAQZ,EAAMgK,GAAkBhJ,OAAOH,SAAQ,YAAkB,IAAD,mBAAfC,EAAe,KAAVN,EAAU,KAClE0J,EAAsB1J,EAAK+B,OAAS/B,EAAK+B,OAAS4H,GACrDnK,EAAMgK,GAAkBhJ,MAAMF,GAAKyB,WAKtCvC,EAAMgK,GAAkBhJ,MAAM6B,GAAaN,MAAQ4H,IAI/CC,EAAQpK,EAAMgK,IACdK,EAAQrK,EAAMiK,IAERjJ,OACTmJ,KAKK3J,EAAO4J,EAAMpJ,MAAM6B,IACpBN,MAAQ4H,SACNC,EAAMpJ,MAAM6B,GAEnBlC,OAAOC,QAAQwJ,EAAMpJ,OAAOH,SAAQ,YAAkB,IAAD,mBAAfC,EAAe,UAC3CyB,MAAQ2H,GAChBE,EAAMpJ,MAAMF,GAAKyB,WAGf8H,EAAMrJ,MACTL,OAAOC,QAAQyJ,EAAMrJ,OAAOH,SAAQ,YAAkB,IAAD,mBAAfC,EAAe,UAC3CyB,OAAS4H,GACjBE,EAAMrJ,MAAMF,GAAKyB,WAInB8H,EAAMrJ,MAAQ,GAGfqJ,EAAMrJ,MAAM6B,GAAerC,IAKhB,SAATN,IAECgK,EAAsBC,EAEzBxJ,OAAOC,QAAQZ,GAAOa,SAAQ,YAAkB,IAAD,mBAAfC,EAAe,KAAVC,EAAU,KAC1CoJ,GAAqBpJ,EAAKwB,OAASxB,EAAKwB,MAAQ2H,GACnDlK,EAAMc,GAAKyB,WAOb5B,OAAOC,QAAQZ,GAAOa,SAAQ,YAAkB,IAAD,mBAAfC,EAAe,KAAVC,EAAU,KAC1CmJ,EAAsBnJ,EAAKwB,OAASxB,EAAKwB,OAAS4H,GACrDnK,EAAMc,GAAKyB,WAKdvC,EAAM6C,GAAaN,MAAQ4H,GAI5BzK,EAASY,EAAgBN,IAxFnB,SAyFAJ,IAAMqE,IAAI,oEAAqEjE,GAzF/E,OA0FNN,EAASD,KA1FH,2CAAP,wDSlGoB+J,CAAQQ,EACzBC,EACAC,EACAC,EACAtH,EACA3C,KACFyF,YAAa,SAAC7E,EAAK6C,GAAN,OAAgBjE,ET2LxB,SAAqBoB,EAAK6C,GAChC,8CAAO,WAAOjE,EAAU8B,GAAjB,iBAAA7B,EAAA,sEACiBC,IAAMC,IAAI,qEAD3B,cACAE,EADA,QAEFC,EAAQD,EAASE,KAAOF,EAASE,KAAO,IACtCa,GAAK6C,MAAQA,EACnBjE,EAASY,EAAgBN,IAJnB,SAKAJ,IAAMqE,IAAN,uEAA0EnD,EAA1E,SAAsFd,EAAMc,IAL5F,2CAAP,wDS5LuC6E,CAAY7E,EAAK6C,QAI/BK,CAA6CiF,I,SCrGjEqB,GAAe,CACpBtK,MAAO,GACP4J,SAAS,EACTxJ,MAAO,MCHR,IAAMkK,GAAe,CACpB7I,OAAQ,GACRC,QAAS,GACTC,OAAQ,GACRnB,KAAM,GACNe,OAAQ,ICHMgJ,oBAAgB,CAC9BvI,KFGc,WAAoD,IAA/B4C,EAA8B,uDAAtB0F,GAAc/I,EAAQ,uCACjE,OAAQA,EAAOrB,MACd,KAAKhB,EACJ,OAAO,2BACH0F,GADJ,IACWgF,SAAS,IAErB,KAAKzK,EACJ,OAAO,2BACHyF,GADJ,IAECgF,SAAS,EACT5J,MAAOuB,EAAOvB,MAAQuB,EAAOvB,MAAQ,KAEvC,KAAKZ,EACJ,OAAO,2BACHwF,GADJ,IAECgF,SAAS,EACTxJ,MAAOmB,EAAOnB,QAEhB,KAAKf,EAKL,KAAKG,EACJ,OAAO,2BACHoF,GADJ,IAEC5E,MAAOuB,EAAOvB,QAEhB,QACC,OAAO4E,IE/BTiE,MDIc,WAAqD,IAA/BjE,EAA8B,uDAAtB0F,GAAc/I,EAAQ,uCAClE,OAAQA,EAAOrB,MACd,KAAKZ,EACJ,OAAO,2BACHsF,GADJ,IAECjD,OAAQJ,EAAOI,OACfnB,KAAMe,EAAOf,KACbe,OAAQA,EAAOA,OACfE,OAAQF,EAAOE,OACfC,QAASH,EAAOG,UAElB,KAAKnC,EACJ,MAAO,CACNuB,IAAK,GACLa,OAAQ,GACRJ,OAAQ,IAEV,QACC,OAAOqD,M,SElBJ4F,GAAQC,aACbC,GACAC,aAAgBC,OAGjBC,IAASC,OACR,cAAC,IAAD,UACC,cAAC,IAAD,CAAUN,MAAOA,GAAjB,SACC,cAAC,EAAD,QAGFpG,SAAS2G,eAAe,W","file":"static/js/main.57da1143.chunk.js","sourcesContent":["export const FETCH_DATA_START = 'FETCH_DATA_START'\r\nexport const FETCH_DATA_SUCCESS = 'FETCH_DATA_SUCCESS'\r\nexport const FETCH_DATA_ERROR = 'FETCH_DATA_ERROR'\r\nexport const UPDATE_LIST = 'UPDATE_LIST'\r\n\r\nexport const LOCAL_DATA = 'LOCAL_DATA'\r\nexport const RESET_POPUP = 'RESET_POPUP'\r\n\r\nexport const NEW_CARD = 'NEW_CARD'","import axios from 'axios'\r\nimport { FETCH_DATA_ERROR, FETCH_DATA_START, FETCH_DATA_SUCCESS, NEW_CARD, UPDATE_LIST } from './actionTypes'\r\nimport { localData } from './popup';\r\n\r\nexport function fetchData() {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(fetchDataStart())\r\n\r\n\t\tdispatch(fetch())\r\n\t}\r\n}\r\n\r\nexport function fetch() {\r\n\treturn async dispatch => {\r\n\t\tawait axios.get('https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists.json')\r\n\t\t\t.then(response => dispatch(fetchDataSuccess(response.data)))\r\n\t\t\t.catch(error => dispatch(fetchDataError(error)))\r\n\t}\r\n}\r\n\r\nexport function fetchDataStart() {\r\n\treturn {\r\n\t\ttype: FETCH_DATA_START\r\n\t}\r\n}\r\n\r\nexport function fetchDataSuccess(lists) {\r\n\treturn {\r\n\t\ttype: FETCH_DATA_SUCCESS,\r\n\t\tlists\r\n\t}\r\n}\r\n\r\nexport function fetchDataError(error) {\r\n\treturn {\r\n\t\ttype: FETCH_DATA_ERROR,\r\n\t\terror\r\n\t}\r\n}\r\n\r\nexport function createColumn(item) {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst response = await axios.get('https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists.json')\r\n\t\tconsole.log(response.data);\r\n\t\tlet lists = Object.values(response.data ? response.data : [])\r\n\t\tconsole.log(lists);\r\n\t\tlists.push(item)\r\n\t\tdispatch(updateLocalList(lists))\r\n\r\n\t\tawait axios.post('https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists.json', item)\r\n\t\tdispatch(fetch())\r\n\t}\r\n}\r\n\r\nexport function updateLocalList(lists) {\r\n\treturn {\r\n\t\ttype: UPDATE_LIST,\r\n\t\tlists\r\n\t}\r\n}\r\n\r\nexport function addCard(card, id, close, lists) {\r\n\treturn async (dispatch) => {\r\n\r\n\t\tObject.entries(lists).forEach(([key, list]) => {\r\n\t\t\tif (key === id) {\r\n\t\t\t\tif (list.cards)\r\n\t\t\t\t\tObject.assign(list.cards, { [Math.floor(Math.random() * 1000)]: card })\r\n\t\t\t\telse\r\n\t\t\t\t\tlist.cards = { card }\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tclose()\r\n\t\tdispatch(newCard(lists))\r\n\t}\r\n}\r\n\r\nexport function newCard(lists) {\r\n\treturn {\r\n\t\ttype: NEW_CARD,\r\n\t\tlists\r\n\t}\r\n}\r\n\r\nexport function getDataOfColumn(id, action) {\r\n\treturn (dispatch, getState) => {\r\n\t\tlet keyCol = ''\r\n\t\tlet keyCard = ''\r\n\t\tlet column = {}\r\n\t\tlet card = {}\r\n\r\n\t\tif (action === 'add')\r\n\t\t\tkeyCol = id.substring(9)\r\n\t\tif (action === 'edit') {\r\n\t\t\tlet end = id.indexOf('edit') - 1\r\n\t\t\tlet start = 1\r\n\t\t\tkeyCol = id.substring(start, end)\r\n\r\n\t\t\tstart = end + 6\r\n\t\t\tkeyCard = id.substring(start)\r\n\t\t}\r\n\t\tconst lists = getState().main.lists\r\n\r\n\t\tObject.entries(lists).forEach(([key, list]) => {\r\n\t\t\tif (keyCol === key) {\r\n\t\t\t\tcolumn = list\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tif (column.cards && keyCard) {\r\n\t\t\tObject.entries(column.cards).forEach(([key, value]) => {\r\n\t\t\t\tif (keyCard === key) {\r\n\t\t\t\t\tcard = value\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\r\n\r\n\t\tdispatch(localData(column, card, action, keyCol, keyCard))\r\n\t}\r\n}\r\n\r\nexport function deleteCard(keyCol, keyCard) {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst response = await axios.get('https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists.json')\r\n\t\tlet lists = response.data ? response.data : {}\r\n\t\tconst cards = lists[keyCol].cards\r\n\t\tconst order = cards[keyCard].order\r\n\r\n\t\tdelete cards[keyCard]\r\n\t\tObject.entries(cards).forEach(([key, value]) => {\r\n\t\t\tif (value.order > order)\r\n\t\t\t\tcards[key].order = --value.order\r\n\t\t})\r\n\r\n\r\n\t\tdispatch(updateLocalList(lists))\r\n\t\tawait axios.put(`https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists/${keyCol}/cards.json`, cards)\r\n\t\tdispatch(fetch())\r\n\t}\r\n}\r\n\r\nexport function deleteColumn(keyCol) {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst response = await axios.get('https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists.json')\r\n\t\tlet lists = response.data ? response.data : {}\r\n\t\tlet order = lists[keyCol].order\r\n\t\tdelete lists[keyCol]\r\n\t\tObject.entries(lists).forEach(([key, value]) => {\r\n\t\t\tif (value.order > order)\r\n\t\t\t\tlists[key].order = --value.order\r\n\t\t})\r\n\r\n\t\tdispatch(updateLocalList(lists))\r\n\r\n\t\tawait axios.put('https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists.json', lists)\r\n\t\tdispatch(fetch())\r\n\t}\r\n}\r\n\r\nexport function deleteAllCards(key) {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst response = await axios.get('https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists.json')\r\n\t\tlet lists = response.data ? response.data : {}\r\n\t\tdelete lists[key].cards\r\n\r\n\t\tdispatch(updateLocalList(lists))\r\n\t\tawait axios.delete(`https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists/${key}/cards.json`)\r\n\t\tdispatch(fetch())\r\n\t}\r\n}\r\n\r\nexport function sortByOrder(obj, type) {\r\n\tif (type === 'asc')\r\n\t\treturn Object.entries(obj).sort((a, b) => (a[1].order > b[1].order) ? 1 : -1)\r\n\tif (type === 'desc')\r\n\t\treturn Object.entries(obj).sort((a, b) => (a[1].order < b[1].order) ? 1 : -1)\r\n}\r\n\r\nexport function dragged(\r\n\tdroppableIdStart,\r\n\tdroppableIdEnd,\r\n\tdroppableIndexStart,\r\n\tdroppableIndexEnd,\r\n\tdraggableId,\r\n\ttype\r\n) {\r\n\treturn async (dispatch, getState) => {\r\n\r\n\t\tlet lists = { ...getState().main.lists }\r\n\r\n\t\tif (type === 'card') {\r\n\t\t\tdroppableIndexStart = lists[droppableIdStart].cards ? Object.values(lists[droppableIdStart].cards).length - droppableIndexStart - 1 : 0\r\n\t\t\tdroppableIndexEnd = lists[droppableIdEnd].cards ? Object.values(lists[droppableIdEnd].cards).length - droppableIndexEnd - 1 : 0\r\n\r\n\r\n\t\t\tif (droppableIdStart === droppableIdEnd) {\r\n\t\t\t\tif (droppableIndexStart > droppableIndexEnd) {\r\n\t\t\t\t\tObject.entries(lists[droppableIdStart].cards).forEach(([key, card]) => {\r\n\t\t\t\t\t\tif (droppableIndexEnd <= card.order && card.order < droppableIndexStart) {\r\n\t\t\t\t\t\t\tlists[droppableIdStart].cards[key].order++\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\telse {\r\n\t\t\t\t\tObject.entries(lists[droppableIdStart].cards).forEach(([key, card]) => {\r\n\t\t\t\t\t\tif (droppableIndexStart < card.order && card.order <= droppableIndexEnd) {\r\n\t\t\t\t\t\t\tlists[droppableIdStart].cards[key].order--\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlists[droppableIdStart].cards[draggableId].order = droppableIndexEnd\r\n\t\t\t}\r\n\r\n\t\t\telse {\r\n\t\t\t\tlet list1 = lists[droppableIdStart]\r\n\t\t\t\tlet list2 = lists[droppableIdEnd]\r\n\r\n\t\t\t\tif (list2.cards)\r\n\t\t\t\t\tdroppableIndexEnd++\r\n\r\n\r\n\r\n\r\n\t\t\t\tconst card = list1.cards[draggableId]\r\n\t\t\t\tcard.order = droppableIndexEnd\r\n\t\t\t\tdelete list1.cards[draggableId]\r\n\r\n\t\t\t\tObject.entries(list1.cards).forEach(([key, card]) => {\r\n\t\t\t\t\tif (card.order > droppableIndexStart)\r\n\t\t\t\t\t\tlist1.cards[key].order--\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (list2.cards) {\r\n\t\t\t\t\tObject.entries(list2.cards).forEach(([key, card]) => {\r\n\t\t\t\t\t\tif (card.order >= droppableIndexEnd)\r\n\t\t\t\t\t\t\tlist2.cards[key].order++\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tlist2.cards = {}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlist2.cards[draggableId] = card\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (type === 'list') {\r\n\r\n\t\t\tif (droppableIndexStart > droppableIndexEnd) {\r\n\t\t\t\t// 3 > x >= 1\r\n\t\t\t\tObject.entries(lists).forEach(([key, list]) => {\r\n\t\t\t\t\tif (droppableIndexEnd <= list.order && list.order < droppableIndexStart) {\r\n\t\t\t\t\t\tlists[key].order++\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\telse {\r\n\t\t\t\t// 0 < x <= 2\r\n\t\t\t\tObject.entries(lists).forEach(([key, list]) => {\r\n\t\t\t\t\tif (droppableIndexStart < list.order && list.order <= droppableIndexEnd) {\r\n\t\t\t\t\t\tlists[key].order--\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tlists[draggableId].order = droppableIndexEnd\r\n\t\t}\r\n\r\n\r\n\t\tdispatch(updateLocalList(lists))\r\n\t\tawait axios.put('https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists.json', lists)\r\n\t\tdispatch(fetch())\r\n\r\n\t}\r\n}\r\n\r\nexport function renameTitle(key, title) {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst response = await axios.get('https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists.json')\r\n\t\tlet lists = response.data ? response.data : {}\r\n\t\tlists[key].title = title\r\n\t\tdispatch(updateLocalList(lists))\r\n\t\tawait axios.put(`https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists/${key}.json`, lists[key])\r\n\t}\r\n}","import axios from 'axios'\r\nimport { LOCAL_DATA, RESET_POPUP } from './actionTypes'\r\nimport { addCard, fetch, updateLocalList } from './main'\r\n\r\n\r\nexport function createCard(state, close) {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst { action, keyCol, keyCard } = getState().popup\r\n\r\n\t\tconst response = await axios.get('https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists.json')\r\n\t\tlet lists = response.data ? response.data : {}\r\n\t\tconst cards = lists[keyCol].cards\r\n\r\n\r\n\t\tif (action === 'add') {\r\n\t\t\tconst cardsLength = cards ? Object.values(cards).length : 0\r\n\r\n\t\t\tconst card = {\r\n\t\t\t\tdetail: state.detailInput,\r\n\t\t\t\ttitle: state.titleInput,\r\n\t\t\t\torder: cardsLength,\r\n\t\t\t\ttags: Object.keys(state.tags).filter(key => state.tags[key])\r\n\t\t\t}\r\n\r\n\t\t\tdispatch(addCard(card, keyCol, close, lists))\r\n\t\t\tawait axios.post(`https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists/${keyCol}/cards.json`, card)\r\n\t\t\tdispatch(fetch())\r\n\r\n\t\t}\r\n\t\tif (action === 'edit') {\r\n\t\t\tconst card = {\r\n\t\t\t\t...cards[keyCard],\r\n\t\t\t\tdetail: state.detailInput,\r\n\t\t\t\ttitle: state.titleInput,\r\n\t\t\t\ttags: Object.keys(state.tags).filter(key => state.tags[key])\r\n\t\t\t}\r\n\r\n\t\t\tlists[keyCol].cards[keyCard] = card\r\n\t\t\tdispatch(updateLocalList(lists))\r\n\t\t\tclose()\r\n\r\n\t\t\tawait axios.put(`https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists/${keyCol}/cards/${keyCard}.json`, card)\r\n\t\t\tdispatch(fetch())\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function resetPopup() {\r\n\treturn {\r\n\t\ttype: RESET_POPUP\r\n\t}\r\n}\r\n\r\nexport function localData(column, card, action, keyCol, keyCard) {\r\n\treturn {\r\n\t\ttype: LOCAL_DATA,\r\n\t\tcolumn,\r\n\t\tcard,\r\n\t\taction,\r\n\t\tkeyCol,\r\n\t\tkeyCard\r\n\t}\r\n}","import React from 'react'\r\nimport './Item.css'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { deleteCard } from '../../store/actions/main'\r\nimport { Draggable } from 'react-beautiful-dnd'\r\n\r\nclass Item extends React.Component {\r\n\r\n\trender() {\r\n\t\tconst { detail, tags = null } = this.props.card\r\n\t\treturn (\r\n\t\t\t<Draggable draggableId={this.props.itemKey} index={this.props.index}>\r\n\t\t\t\t{provided => (\r\n\t\t\t\t\t<li\r\n\t\t\t\t\t\tclassName=\"list__item\"\r\n\t\t\t\t\t\t{...provided.draggableProps}\r\n\t\t\t\t\t\tref={provided.innerRef}\r\n\t\t\t\t\t\t{...provided.dragHandleProps}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Link to={`/${this.props.parentKey}/edit/${this.props.itemKey}`} >\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttags && tags.length !== 0\r\n\t\t\t\t\t\t\t\t\t? <div className=\"item-tags\">\r\n\t\t\t\t\t\t\t\t\t\t{tags.map((tag, index) => <span key={index} className={tag} />)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{this.props.card.title}\r\n\t\t\t\t\t\t\t{detail\r\n\t\t\t\t\t\t\t\t? <div className=\"itemIcons\">\r\n\t\t\t\t\t\t\t\t\t{detail ? <i className=\"fas fa-stream\" /> : null}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<button className=\"itemDeleteButton\" onClick={() => this.props.deleteCard(this.props.parentKey, this.props.itemKey)}>\r\n\t\t\t\t\t\t\t<i className=\"far fa-trash-alt\"></i>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)}\r\n\t\t\t</Draggable>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tdeleteCard: (keyCol, keyCard) => dispatch(deleteCard(keyCol, keyCard))\r\n\t}\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Item)","import React from 'react'\r\nimport './AddItem.css'\r\nimport { Link } from 'react-router-dom'\r\n\r\nclass AddItem extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Link to={`/addCard/${this.props.id}`}\r\n\t\t\t\tclassName=\"addItem\">\r\n\t\t\t\t<i className=\"fas fa-plus\"></i>\r\n\t\t\t\t<span>Добавить карточку</span>\r\n\t\t\t</Link>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default AddItem","import './Dropdown.css'\r\nimport React from 'react'\r\n// import { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { deleteAllCards, deleteColumn } from '../../store/actions/main'\r\n\r\nclass Dropdown extends React.Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tdocument.addEventListener('click', this.props.closeHandler)\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tdocument.removeEventListener('click', this.props.closeHandler)\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t<h4>Действия со списком</h4>\r\n\t\t\t\t<hr />\r\n\t\t\t\t<ul className=\"dropdown-menus\">\r\n\t\t\t\t\t{/* <li>\r\n\t\t\t\t\t\t<Link to={`/addCard/${this.props.id}`} >\r\n\t\t\t\t\t\t\tДобавить карточку\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li> */}\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<button onClick={() => this.props.deleteColumn(this.props.id)}>\r\n\t\t\t\t\t\t\tУдалить список\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<button onClick={() => {\r\n\t\t\t\t\t\t\tthis.props.deleteAllCards(this.props.id)\r\n\t\t\t\t\t\t\tthis.props.close()\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\tУдалить все карточки списка\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tdeleteColumn: key => dispatch(deleteColumn(key)),\r\n\t\tdeleteAllCards: key => dispatch(deleteAllCards(key))\r\n\t}\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Dropdown)","import React from 'react'\r\nimport './List.css'\r\nimport Item from '../Item/Item'\r\nimport AddItem from '../AddItem/AddItem'\r\nimport Dropdown from '../Dropdown/Dropdown'\r\nimport { Droppable, Draggable } from 'react-beautiful-dnd'\r\nimport { sortByOrder } from '../../store/actions/main'\r\n\r\nclass List extends React.Component {\r\n\r\n\r\n\tstate = {\r\n\t\tcontextMenu: false,\r\n\t\ttitleInput: this.props.list.title,\r\n\t\tactiveInput: false\r\n\t}\r\n\r\n\r\n\tclickHandler = () => this.state.contextMenu ? this.setState({ ...this.state, contextMenu: false }) : this.setState({ ...this.state, contextMenu: true })\r\n\r\n\tcloseHandler = ({ target }) => {\r\n\t\tif (target.className === 'fas fa-ellipsis-h')\r\n\t\t\treturn\r\n\t\tif (this.state.contextMenu) {\r\n\t\t\tif (!document.querySelector('.dropdown').contains(target))\r\n\t\t\t\tthis.setState({ ...this.state, contextMenu: false })\r\n\t\t}\r\n\t\telse\r\n\t\t\tthis.setState({ ...this.state, contextMenu: true })\r\n\t}\r\n\r\n\tswitchInput = e => {\r\n\t\te.preventDefault()\r\n\r\n\t\tthis.setState({ ...this.state, activeInput: true })\r\n\t\tdocument.addEventListener('click', this.closeInput)\r\n\t}\r\n\r\n\tcloseInput = e => {\r\n\t\tif (e.target.className === 'title' || e.target.className === 'titleCol')\r\n\t\t\treturn\r\n\t\tif (!this.state.titleInput) {\r\n\t\t\tthis.setState({ titleInput: this.props.list.title })\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.setState({ ...this.state, activeInput: false })\r\n\t\tconsole.log('Titleinput', this.state.titleInput);\r\n\t\tthis.props.renameTitle(this.props.id, this.state.titleInput)\r\n\t}\r\n\r\n\r\n\r\n\trender() {\r\n\t\tconst sortedCards = this.props.list.cards ? sortByOrder(this.props.list.cards, 'desc') : null\r\n\t\tif (!this.state.activeInput) {\r\n\t\t\tdocument.removeEventListener('click', this.closeInput)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Draggable\r\n\t\t\t\tdraggableId={String(this.props.id)}\r\n\t\t\t\tindex={this.props.index}\r\n\t\t\t>\r\n\t\t\t\t{provided => (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\t{...provided.draggableProps}\r\n\t\t\t\t\t\tref={provided.innerRef}\r\n\t\t\t\t\t\t{...provided.dragHandleProps}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Droppable droppableId={String(this.props.id)} type=\"card\">\r\n\t\t\t\t\t\t\t{provided => (\r\n\t\t\t\t\t\t\t\t<div className=\"list\">\r\n\t\t\t\t\t\t\t\t\t<div className={'list-top'}>\r\n\t\t\t\t\t\t\t\t\t\t{this.state.activeInput\r\n\t\t\t\t\t\t\t\t\t\t\t? <input\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"title\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.titleInput}\r\n\t\t\t\t\t\t\t\t\t\t\t\tautoFocus={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={e => this.setState({ ...this.state, titleInput: e.target.value })}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t: <h2 className=\"titleCol\" onClick={this.switchInput}>{this.state.titleInput}</h2>}\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"context-menu\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-ellipsis-h\" onClick={this.clickHandler} />\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.contextMenu\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? <Dropdown key={this.props.id} id={this.props.id} closeHandler={this.closeHandler} close={() => this.setState({ contextMenu: false })} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<ul\r\n\t\t\t\t\t\t\t\t\t\t{...provided.droppableProps}\r\n\t\t\t\t\t\t\t\t\t\tref={provided.innerRef}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"lists\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tsortedCards\r\n\t\t\t\t\t\t\t\t\t\t\t\t? sortedCards.map(([key, value], i) => <Item itemKey={key} parentKey={this.props.id} key={key} card={value} index={i} />)\r\n\t\t\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t{provided.placeholder}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t<AddItem key={`additem-${this.props.id}`} id={this.props.id} title={this.props.title} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t</Droppable>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</Draggable>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default List","import React from 'react'\r\nimport './AddCol.css'\r\nimport { connect } from 'react-redux'\r\nimport { createColumn } from '../../store/actions/main'\r\n\r\nclass AddCol extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { inputValue: '', active: false };\r\n\r\n\t\tthis.changeHandler = this.changeHandler.bind(this);\r\n\t}\r\n\r\n\tchangeHandler = event => {\r\n\t\tthis.setState({\r\n\t\t\tinputValue: event.target.value\r\n\t\t})\r\n\t}\r\n\r\n\r\n\topenInput = () => {\r\n\t\tif (this.state.active)\r\n\t\t\treturn\r\n\r\n\t\tthis.setState({\r\n\t\t\t...this.state,\r\n\t\t\tactive: true\r\n\t\t})\r\n\t\tdocument.addEventListener('click', this.closeListener)\r\n\t}\r\n\r\n\tcloseListener = ({ target }) => {\r\n\t\tconst parent = document.querySelector('.addCol')\r\n\t\tif (!parent.contains(target)) {\r\n\t\t\tthis.closeInput()\r\n\t\t\tdocument.removeEventListener('click', this.closeListener)\r\n\t\t}\r\n\t}\r\n\r\n\tcloseHandler = event => {\r\n\t\tevent.preventDefault()\r\n\r\n\t\tthis.closeInput()\r\n\t}\r\n\r\n\tcloseInput = () => {\r\n\t\tthis.setState({\r\n\t\t\t...this.state,\r\n\t\t\tinputValue: '',\r\n\t\t\tactive: false\r\n\t\t})\r\n\t}\r\n\r\n\taddColumn = event => {\r\n\t\tevent.preventDefault()\r\n\r\n\t\tif (!this.state.inputValue)\r\n\t\t\treturn\r\n\r\n\t\tconst col = {\r\n\t\t\ttitle: this.state.inputValue,\r\n\t\t\torder: this.props.length,\r\n\t\t\tcards: {}\r\n\t\t}\r\n\t\tthis.props.createColumn(col)\r\n\t\tthis.closeInput()\r\n\t}\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tif (this.state.active) {\r\n\t\t\tthis.nameInput.focus();\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet formCls = ['addCol']\r\n\r\n\t\tif (this.state.active) {\r\n\t\t\tformCls.push('active')\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<form className={formCls.join(' ')} onClick={this.openInput}>\r\n\t\t\t\t<div className=\"addCol__placeholder\">\r\n\t\t\t\t\t<i className=\"fas fa-plus\"></i>\r\n\t\t\t\t\t<span>Добавить колонку</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"addCol__form\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tvalue={this.state.inputValue}\r\n\t\t\t\t\t\tclassName=\"addCol__input\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tonChange={this.changeHandler}\r\n\t\t\t\t\t\tref={(input) => { this.nameInput = input; }}\r\n\t\t\t\t\t\tplaceholder=\"Ввести заголовок списка\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"addCol__btns\">\r\n\t\t\t\t\t\t<button className=\"addCol__buttonAdd\" onClick={this.addColumn}>Добавить список</button>\r\n\t\t\t\t\t\t<button className=\"addCol__buttonClose\" onClick={this.closeHandler}><i className=\"fas fa-times\"></i></button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tlength: Object.keys(state.main.lists).length\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tcreateColumn: item => dispatch(createColumn(item))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddCol)","import React from 'react'\r\nimport './AddPopup.css'\r\nimport { connect } from 'react-redux'\r\nimport { createCard, resetPopup } from '../../store/actions/popup'\r\nimport { getDataOfColumn } from '../../store/actions/main'\r\n\r\n\r\nclass AddPopup extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\ttitleInput: '',\r\n\t\t\tdetailInput: '',\r\n\t\t\ttags: {\r\n\t\t\t\tgreen: false,\r\n\t\t\t\tyellow: false,\r\n\t\t\t\torange: false,\r\n\t\t\t\tred: false,\r\n\t\t\t\tpurple: false,\r\n\t\t\t\tblue: false\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.inputHandler = this.inputHandler.bind(this)\r\n\t}\r\n\r\n\tinputHandler = ({ target }) => {\r\n\t\tconst name = target.name\r\n\t\tthis.setState({ [name]: target.value })\r\n\t}\r\n\r\n\tpopupClose = () => {\r\n\t\tconst { history } = this.props\r\n\t\thistory.goBack()\r\n\t}\r\n\r\n\tcloseHandler = ({ target }) => {\r\n\t\tif (target.className === document.querySelector('.overlay').className) {\r\n\t\t\tthis.popupClose()\r\n\t\t\tthis.props.resetPopup()\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tdocument.addEventListener('click', this.closeHandler)\r\n\r\n\t\tthis.props.getDataOfColumn(this.props.history.location.pathname, this.props.action)\r\n\t\tif (this.props.action === 'edit' && this.props.card) {\r\n\t\t\tthis.setState({\r\n\t\t\t\ttitleInput: this.props.card ? this.props.card.title : '',\r\n\t\t\t\tdetailInput: this.props.card ? this.props.card.detail : '',\r\n\t\t\t})\r\n\t\t\tif (this.props.card.tags) {\r\n\t\t\t\tlet tempTags = { ...this.state.tags }\r\n\t\t\t\tthis.props.card.tags.forEach(tag => {\r\n\t\t\t\t\ttempTags[tag] = true\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({ tags: tempTags })\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tdocument.removeEventListener('click', this.closeHandler)\r\n\t}\r\n\r\n\tsaveCard = event => {\r\n\t\tevent.preventDefault()\r\n\r\n\t\tif (!this.state.titleInput)\r\n\t\t\treturn\r\n\r\n\t\tthis.props.createCard(this.state, this.popupClose)\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"overlay\" >\r\n\t\t\t\t<div className=\"addPopup\">\r\n\t\t\t\t\t<div className=\"addPopup__close\" onClick={this.popupClose}>\r\n\t\t\t\t\t\t<i className=\"fas fa-times\"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<form onSubmit={this.saveCard} className=\"addPopup-title\">\r\n\t\t\t\t\t\t<i className=\"fas fa-tag\"></i>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tname=\"titleInput\"\r\n\t\t\t\t\t\t\tclassName=\"addPopup__titleInput\"\r\n\t\t\t\t\t\t\tplaceholder=\"Ввести заголовок\"\r\n\t\t\t\t\t\t\tvalue={this.state.titleInput}\r\n\t\t\t\t\t\t\tonChange={this.inputHandler}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className=\"addPopup-title__wh\">\r\n\t\t\t\t\t\t\tв колонке\r\n\t\t\t\t\t\t\t<strong> {this.props.column.title}</strong>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<div className=\"addPopup-tag\">\r\n\t\t\t\t\t\t<label>МЕТКИ</label>\r\n\t\t\t\t\t\t<div className=\"addPopup-colors\">\r\n\t\t\t\t\t\t\t<span className=\"green\" onClick={() => this.setState({ tags: { ...this.state.tags, green: !this.state.tags.green } })}>\r\n\t\t\t\t\t\t\t\t{this.state.tags.green ? <i className=\"fas fa-check\" /> : null}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className=\"yellow\" onClick={() => this.setState({ tags: { ...this.state.tags, yellow: !this.state.tags.yellow } })}>\r\n\t\t\t\t\t\t\t\t{this.state.tags.yellow ? <i className=\"fas fa-check\" /> : null}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className=\"orange\" onClick={() => this.setState({ tags: { ...this.state.tags, orange: !this.state.tags.orange } })}>\r\n\t\t\t\t\t\t\t\t{this.state.tags.orange ? <i className=\"fas fa-check\" /> : null}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className=\"red\" onClick={() => this.setState({ tags: { ...this.state.tags, red: !this.state.tags.red } })}>\r\n\t\t\t\t\t\t\t\t{this.state.tags.red ? <i className=\"fas fa-check\" /> : null}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className=\"purple\" onClick={() => this.setState({ tags: { ...this.state.tags, purple: !this.state.tags.purple } })}>\r\n\t\t\t\t\t\t\t\t{this.state.tags.purple ? <i className=\"fas fa-check\" /> : null}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className=\"blue\" onClick={() => this.setState({ tags: { ...this.state.tags, blue: !this.state.tags.blue } })}>\r\n\t\t\t\t\t\t\t\t{this.state.tags.blue ? <i className=\"fas fa-check\" /> : null}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"addPopup-detail\">\r\n\t\t\t\t\t\t<div className=\"addPopup-detail__title\">\r\n\t\t\t\t\t\t\t<i className=\"fas fa-stream\"></i>\r\n\t\t\t\t\t\t\t<h3>Описание</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\tname=\"detailInput\"\r\n\t\t\t\t\t\t\tclassName=\"addPopup-detail__input\"\r\n\t\t\t\t\t\t\tplaceholder=\"Добавить подробное описание...\"\r\n\t\t\t\t\t\t\tvalue={this.state.detailInput}\r\n\t\t\t\t\t\t\tonChange={this.inputHandler}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"addPopup__btns\">\r\n\t\t\t\t\t\t<button className=\"addPopup__buttonSave\" onClick={this.saveCard}>Сохранить</button>\r\n\t\t\t\t\t\t<button className=\"addPopup__buttonClose\" onClick={this.popupClose} ><i className=\"fas fa-times\"></i></button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tcolumn: state.popup.column,\r\n\t\tcard: state.popup.card\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tgetDataOfColumn: (id, action) => dispatch(getDataOfColumn(id, action)),\r\n\t\tresetPopup: () => dispatch(resetPopup()),\r\n\t\tcreateCard: (state, close) => dispatch(createCard(state, close))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddPopup)","import React from 'react'\r\nimport './Loader.css'\r\n\r\nconst Loader = () => {\r\n\treturn (\r\n\t\t<div className=\"loader\">\r\n\t\t\t<span className=\"dot\"></span>\r\n\t\t\t<div className=\"dots\">\r\n\t\t\t\t<span></span>\r\n\t\t\t\t<span></span>\r\n\t\t\t\t<span></span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Loader","import React from 'react'\nimport './App.css';\nimport { connect } from 'react-redux'\nimport List from './components/List/List'\nimport AddCol from './components/AddCol/AddCol'\nimport AddPopup from './containers/AddPopup/AddPopup'\nimport { dragged, fetchData, renameTitle, sortByOrder } from './store/actions/main';\nimport Loader from './components/Loader/Loader'\nimport { Route, withRouter } from 'react-router-dom'\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd'\nimport _ from 'lodash'\n\nclass App extends React.Component {\n\n\tcomponentDidMount() {\n\t\tthis.props.fetchData()\n\t}\n\n\tonDragEnd = result => {\n\t\tconst { destination, source, draggableId, type } = result\n\n\t\tif (!destination || _.isEqual(source, destination))\n\t\t\treturn\n\n\t\tthis.props.dragged(\n\t\t\tsource.droppableId,\n\t\t\tdestination.droppableId,\n\t\t\tsource.index,\n\t\t\tdestination.index,\n\t\t\tdraggableId,\n\t\t\ttype\n\t\t)\n\t}\n\n\trender() {\n\t\tconst sortedList = sortByOrder(this.props.lists, 'asc')\n\t\treturn (\n\t\t\t<DragDropContext onDragEnd={this.onDragEnd}>\n\t\t\t\t<div className=\"App\" >\n\t\t\t\t\t<header className=\"header\">\n\t\t\t\t\t\tMy Trello\n\t\t\t\t\t</header>\n\t\t\t\t\t<Droppable droppableId=\"all-lists\" direction=\"horizontal\" type=\"list\">\n\t\t\t\t\t\t{provided => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"app-container\"\n\t\t\t\t\t\t\t\t{...provided.droppableProps}\n\t\t\t\t\t\t\t\tref={provided.innerRef}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsortedList\n\t\t\t\t\t\t\t\t\t\t? this.props.loading\n\t\t\t\t\t\t\t\t\t\t\t? <Loader /> :\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t{sortedList.map(([key, value], i) => <List id={key} key={key} list={value} index={i} renameTitle={this.props.renameTitle} />)}\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{provided.placeholder}\n\t\t\t\t\t\t\t\t<AddCol />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Droppable>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath={'/addCard/:id'}\n\t\t\t\t\t\tcomponent={() => <AddPopup action=\"add\" history={this.props.history} />}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath={'/:id/edit/:id'}\n\t\t\t\t\t\tcomponent={() => <AddPopup action=\"edit\" history={this.props.history} />}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</DragDropContext>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tlists: state.main.lists,\n\t\tloading: state.main.loading,\n\t\terror: state.main.error\n\t}\n}\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tfetchData: () => dispatch(fetchData()),\n\t\tdragged: (droppableIdStart,\n\t\t\tdroppableIdEnd,\n\t\t\tdroppableIndexStart,\n\t\t\tdroppableIndexEnd,\n\t\t\tdraggableId,\n\t\t\ttype) => dispatch(dragged(droppableIdStart,\n\t\t\t\tdroppableIdEnd,\n\t\t\t\tdroppableIndexStart,\n\t\t\t\tdroppableIndexEnd,\n\t\t\t\tdraggableId,\n\t\t\t\ttype)),\n\t\trenameTitle: (key, title) => dispatch(renameTitle(key, title))\n\t}\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));\n","import { FETCH_DATA_ERROR, FETCH_DATA_START, FETCH_DATA_SUCCESS, NEW_CARD, UPDATE_LIST } from \"../actions/actionTypes\"\r\n\r\nconst initialState = {\r\n\tlists: [],\r\n\tloading: false,\r\n\terror: null\r\n}\r\n\r\nexport default function mainReducer(state = initialState, action) {\r\n\tswitch (action.type) {\r\n\t\tcase FETCH_DATA_START:\r\n\t\t\treturn {\r\n\t\t\t\t...state, loading: true\r\n\t\t\t}\r\n\t\tcase FETCH_DATA_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tlists: action.lists ? action.lists : []\r\n\t\t\t}\r\n\t\tcase FETCH_DATA_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.error\r\n\t\t\t}\r\n\t\tcase UPDATE_LIST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlists: action.lists\r\n\t\t\t}\r\n\t\tcase NEW_CARD:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlists: action.lists\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}","import { LOCAL_DATA, RESET_POPUP } from \"../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n\tkeyCol: '',\r\n\tkeyCard: '',\r\n\tcolumn: '',\r\n\tcard: '',\r\n\taction: ''\r\n}\r\n\r\nexport default function popupReducer(state = initialState, action) {\r\n\tswitch (action.type) {\r\n\t\tcase LOCAL_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcolumn: action.column,\r\n\t\t\t\tcard: action.card,\r\n\t\t\t\taction: action.action,\r\n\t\t\t\tkeyCol: action.keyCol,\r\n\t\t\t\tkeyCard: action.keyCard\r\n\t\t\t}\r\n\t\tcase RESET_POPUP:\r\n\t\t\treturn {\r\n\t\t\t\tkey: '',\r\n\t\t\t\tcolumn: '',\r\n\t\t\t\taction: ''\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}","import { combineReducers } from 'redux'\r\nimport mainReducer from './main'\r\nimport popupReducer from './popup'\r\n\r\nexport default combineReducers({\r\n\tmain: mainReducer,\r\n\tpopup: popupReducer\r\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { createStore, applyMiddleware } from 'redux'\nimport rootReducer from './store/reducers/rootReducer'\nimport thunk from 'redux-thunk'\nimport { Provider } from 'react-redux'\nimport { BrowserRouter } from 'react-router-dom'\n\nconst store = createStore(\n\trootReducer,\n\tapplyMiddleware(thunk)\n)\n\nReactDOM.render(\n\t<BrowserRouter>\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>\n\t</BrowserRouter>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}