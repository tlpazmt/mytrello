(this.webpackJsonptrello=this.webpackJsonptrello||[]).push([[0],{47:function(t,e,a){},48:function(t,e,a){},52:function(t,e,a){},53:function(t,e,a){},75:function(t,e,a){},76:function(t,e,a){},77:function(t,e,a){},78:function(t,e,a){},79:function(t,e,a){},81:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(22),s=a.n(c),i=(a(47),a(3)),o=a(8),l=a(10),u=a(11),d=a(13),p=a(12),j=(a(48),a(6)),b=(a(52),a(53),a(21)),f=a(24),O=a(4),h=a.n(O),m=a(16),v=a(19),x=a.n(v),g="FETCH_DATA_START",y="FETCH_DATA_SUCCESS",C="FETCH_DATA_ERROR",k="UPDATE_LIST",N="LOCAL_DATA",I="RESET_POPUP",_="NEW_CARD";function w(){return function(){var t=Object(m.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists.json").then((function(t){return e((a=t.data,{type:y,lists:a}));var a})).catch((function(t){return e(E(t))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function E(t){return{type:C,error:t}}function S(t){return{type:k,lists:t}}function H(t,e,a,n){return function(){var r=Object(m.a)(h.a.mark((function r(c){return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:Object.entries(n).forEach((function(a){var n=Object(o.a)(a,2),r=n[0],c=n[1];r!==e||(c.cards?Object.assign(c.cards,Object(f.a)({},Math.floor(1e3*Math.random()),t)):c.cards={card:t})})),a(),c(P(n));case 3:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()}function P(t){return{type:_,lists:t}}function D(t,e){return function(a,n){var r="",c="",s={},i={};if("add"===e&&(r=t.substring(9)),"edit"===e){var l=t.indexOf("edit")-1,u=1;r=t.substring(u,l),u=l+6,c=t.substring(u)}var d=n().main.lists;Object.entries(d).forEach((function(t){var e=Object(o.a)(t,2),a=e[0],n=e[1];r!==a||(s=n)})),s.cards&&c&&Object.entries(s.cards).forEach((function(t){var e=Object(o.a)(t,2),a=e[0],n=e[1];c!==a||(i=n)})),a(function(t,e,a,n,r){return{type:N,column:t,card:e,action:a,keyCol:n,keyCard:r}}(s,i,e,r,c))}}function A(t,e){return"asc"===e?Object.entries(t).sort((function(t,e){return t[1].order>e[1].order?1:-1})):"desc"===e?Object.entries(t).sort((function(t,e){return t[1].order<e[1].order?1:-1})):void 0}var T=a(20),M=a(1),L=function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.props.card,a=e.detail,n=e.tags,r=void 0===n?null:n;return Object(M.jsx)(T.b,{draggableId:this.props.itemKey,index:this.props.index,children:function(e){return Object(M.jsxs)("li",Object(i.a)(Object(i.a)(Object(i.a)({className:"list__item"},e.draggableProps),{},{ref:e.innerRef},e.dragHandleProps),{},{children:[Object(M.jsxs)(b.b,{to:"/".concat(t.props.parentKey,"/edit/").concat(t.props.itemKey),children:[r&&0!==r.length?Object(M.jsx)("div",{className:"item-tags",children:r.map((function(t,e){return Object(M.jsx)("span",{className:t},e)}))}):null,t.props.card.title,a?Object(M.jsx)("div",{className:"itemIcons",children:a?Object(M.jsx)("i",{className:"fas fa-stream"}):null}):null]}),Object(M.jsx)("button",{className:"itemDeleteButton",onClick:function(){return t.props.deleteCard(t.props.parentKey,t.props.itemKey)},children:Object(M.jsx)("i",{className:"far fa-trash-alt"})})]}))}})}}]),a}(r.a.Component),R=Object(j.b)(null,(function(t){return{deleteCard:function(e,a){return t(function(t,e){return function(){var a=Object(m.a)(h.a.mark((function a(n,r){var c,s,l;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=Object(i.a)({},r().main.lists),s=c[t].cards,l=s[e].order,delete s[e],Object.entries(s).forEach((function(t){var e=Object(o.a)(t,2),a=e[0],n=e[1];n.order>l&&(s[a].order=--n.order)})),n(S(c)),a.next=8,x.a.put("https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists/".concat(t,"/cards.json"),s);case 8:n(w());case 9:case"end":return a.stop()}}),a)})));return function(t,e){return a.apply(this,arguments)}}()}(e,a))}}}))(L),K=(a(75),function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(M.jsxs)(b.b,{to:"/addCard/".concat(this.props.id),className:"addItem",children:[Object(M.jsx)("i",{className:"fas fa-plus"}),Object(M.jsx)("span",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443"})]})}}]),a}(r.a.Component)),U=(a(76),function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.props.closeHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.props.closeHandler)}},{key:"render",value:function(){var t=this;return Object(M.jsxs)("div",{className:"dropdown",children:[Object(M.jsx)("h4",{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441\u043e \u0441\u043f\u0438\u0441\u043a\u043e\u043c"}),Object(M.jsx)("hr",{}),Object(M.jsxs)("ul",{className:"dropdown-menus",children:[Object(M.jsx)("li",{children:Object(M.jsx)("button",{onClick:function(){return t.props.deleteColumn(t.props.id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a"})}),Object(M.jsx)("li",{children:Object(M.jsx)("button",{onClick:function(){t.props.deleteAllCards(t.props.id),t.props.close()},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430"})})]})]})}}]),a}(r.a.Component)),V=Object(j.b)(null,(function(t){return{deleteColumn:function(e){return t((a=e,function(){var t=Object(m.a)(h.a.mark((function t(e,n){var r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(i.a)({},n().main.lists),c=r[a].order,delete r[a],Object.entries(r).forEach((function(t){var e=Object(o.a)(t,2),a=e[0],n=e[1];n.order>c&&(r[a].order=--n.order)})),e(S(r)),t.next=7,x.a.put("https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists.json",r);case 7:e(w());case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()));var a},deleteAllCards:function(e){return t(function(t){return function(){var e=Object(m.a)(h.a.mark((function e(a,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(r=Object(i.a)({},n().main.lists))[t].cards,a(S(r)),e.next=5,x.a.delete("https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists/".concat(t,"/cards.json"));case 5:a(w());case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}(e))}}}))(U),F=function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={contextMenu:!1,titleInput:t.props.list.title,activeInput:!1},t.clickHandler=function(){return t.state.contextMenu?t.setState(Object(i.a)(Object(i.a)({},t.state),{},{contextMenu:!1})):t.setState(Object(i.a)(Object(i.a)({},t.state),{},{contextMenu:!0}))},t.closeHandler=function(e){var a=e.target;"fas fa-ellipsis-h"!==a.className&&(t.state.contextMenu?document.querySelector(".dropdown").contains(a)||t.setState(Object(i.a)(Object(i.a)({},t.state),{},{contextMenu:!1})):t.setState(Object(i.a)(Object(i.a)({},t.state),{},{contextMenu:!0})))},t.switchInput=function(e){e.preventDefault(),t.setState(Object(i.a)(Object(i.a)({},t.state),{},{activeInput:!0})),document.addEventListener("click",t.closeInput)},t.closeInput=function(e){"title"!==e.target.className&&"titleCol"!==e.target.className&&(t.state.titleInput?(t.setState(Object(i.a)(Object(i.a)({},t.state),{},{activeInput:!1})),console.log("Titleinput",t.state.titleInput),t.props.renameTitle(t.props.id,t.state.titleInput)):t.setState({titleInput:t.props.list.title}))},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.props.list.cards?A(this.props.list.cards,"desc"):null;return this.state.activeInput||document.removeEventListener("click",this.closeInput),Object(M.jsx)(T.b,{draggableId:String(this.props.id),index:this.props.index,children:function(a){return Object(M.jsx)("div",Object(i.a)(Object(i.a)(Object(i.a)({},a.draggableProps),{},{ref:a.innerRef},a.dragHandleProps),{},{children:Object(M.jsx)(T.c,{droppableId:String(t.props.id),type:"card",children:function(a){return Object(M.jsxs)("div",{className:"list",children:[Object(M.jsxs)("div",{className:"list-top",children:[t.state.activeInput?Object(M.jsx)("input",{className:"title",value:t.state.titleInput,autoFocus:!0,onChange:function(e){return t.setState(Object(i.a)(Object(i.a)({},t.state),{},{titleInput:e.target.value}))}}):Object(M.jsx)("h2",{className:"titleCol",onClick:t.switchInput,children:t.state.titleInput}),Object(M.jsxs)("div",{className:"context-menu",children:[Object(M.jsx)("i",{className:"fas fa-ellipsis-h",onClick:t.clickHandler}),t.state.contextMenu?Object(M.jsx)(V,{id:t.props.id,closeHandler:t.closeHandler,close:function(){return t.setState({contextMenu:!1})}},t.props.id):null]})]}),Object(M.jsxs)("ul",Object(i.a)(Object(i.a)({},a.droppableProps),{},{ref:a.innerRef,className:"lists",children:[e?e.map((function(e,a){var n=Object(o.a)(e,2),r=n[0],c=n[1];return Object(M.jsx)(R,{itemKey:r,parentKey:t.props.id,card:c,index:a},r)})):null,a.placeholder]})),Object(M.jsx)(K,{id:t.props.id,title:t.props.title},"additem-".concat(t.props.id))]})}})}))}})}}]),a}(r.a.Component),q=a(25),B=(a(77),function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).changeHandler=function(t){n.setState({inputValue:t.target.value})},n.openInput=function(){n.state.active||(n.setState(Object(i.a)(Object(i.a)({},n.state),{},{active:!0})),document.addEventListener("click",n.closeListener))},n.closeListener=function(t){var e=t.target;document.querySelector(".addCol").contains(e)||(n.closeInput(),document.removeEventListener("click",n.closeListener))},n.closeHandler=function(t){t.preventDefault(),n.closeInput()},n.closeInput=function(){n.setState(Object(i.a)(Object(i.a)({},n.state),{},{inputValue:"",active:!1}))},n.addColumn=function(t){if(t.preventDefault(),n.state.inputValue){var e={title:n.state.inputValue,order:n.props.length,cards:{}};n.props.createColumn(e),n.closeInput()}},n.state={inputValue:"",active:!1},n.changeHandler=n.changeHandler.bind(Object(q.a)(n)),n}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(){this.state.active&&this.nameInput.focus()}},{key:"render",value:function(){var t=this,e=["addCol"];return this.state.active&&e.push("active"),Object(M.jsxs)("form",{className:e.join(" "),onClick:this.openInput,children:[Object(M.jsxs)("div",{className:"addCol__placeholder",children:[Object(M.jsx)("i",{className:"fas fa-plus"}),Object(M.jsx)("span",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443"})]}),Object(M.jsxs)("div",{className:"addCol__form",children:[Object(M.jsx)("input",{value:this.state.inputValue,className:"addCol__input",type:"text",onChange:this.changeHandler,ref:function(e){t.nameInput=e},placeholder:"\u0412\u0432\u0435\u0441\u0442\u0438 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u043f\u0438\u0441\u043a\u0430"}),Object(M.jsxs)("div",{className:"addCol__btns",children:[Object(M.jsx)("button",{className:"addCol__buttonAdd",onClick:this.addColumn,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a"}),Object(M.jsx)("button",{className:"addCol__buttonClose",onClick:this.closeHandler,children:Object(M.jsx)("i",{className:"fas fa-times"})})]})]})]})}}]),a}(r.a.Component)),W=Object(j.b)((function(t){return{length:Object.keys(t.main.lists).length}}),(function(t){return{createColumn:function(e){return t(function(t){return function(){var e=Object(m.a)(h.a.mark((function e(a,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Object.values(n().main.lists)).push(t),a(S(r)),e.next=5,x.a.post("https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists.json",t);case 5:a(w());case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}(e))}}}))(B),J=(a(78),function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).inputHandler=function(t){var e=t.target,a=e.name;n.setState(Object(f.a)({},a,e.value))},n.popupClose=function(){n.props.history.goBack()},n.closeHandler=function(t){t.target.className===document.querySelector(".overlay").className&&(n.popupClose(),n.props.resetPopup())},n.saveCard=function(t){t.preventDefault(),n.state.titleInput&&n.props.createCard(n.state,n.popupClose)},n.state={titleInput:"",detailInput:"",tags:{green:!1,yellow:!1,orange:!1,red:!1,purple:!1,blue:!1}},n.inputHandler=n.inputHandler.bind(Object(q.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){if(document.addEventListener("click",this.closeHandler),this.props.getDataOfColumn(this.props.history.location.pathname,this.props.action),"edit"===this.props.action&&this.props.card&&(this.setState({titleInput:this.props.card?this.props.card.title:"",detailInput:this.props.card?this.props.card.detail:""}),this.props.card.tags)){var t=Object(i.a)({},this.state.tags);this.props.card.tags.forEach((function(e){t[e]=!0})),this.setState({tags:t})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.closeHandler)}},{key:"render",value:function(){var t=this;return Object(M.jsx)("div",{className:"overlay",children:Object(M.jsxs)("div",{className:"addPopup",children:[Object(M.jsx)("div",{className:"addPopup__close",onClick:this.popupClose,children:Object(M.jsx)("i",{className:"fas fa-times"})}),Object(M.jsxs)("form",{onSubmit:this.saveCard,className:"addPopup-title",children:[Object(M.jsx)("i",{className:"fas fa-tag"}),Object(M.jsx)("input",{name:"titleInput",className:"addPopup__titleInput",placeholder:"\u0412\u0432\u0435\u0441\u0442\u0438 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",value:this.state.titleInput,onChange:this.inputHandler}),Object(M.jsxs)("div",{className:"addPopup-title__wh",children:["\u0432 \u043a\u043e\u043b\u043e\u043d\u043a\u0435",Object(M.jsxs)("strong",{children:[" ",this.props.column.title]})]})]}),Object(M.jsxs)("div",{className:"addPopup-tag",children:[Object(M.jsx)("label",{children:"\u041c\u0415\u0422\u041a\u0418"}),Object(M.jsxs)("div",{className:"addPopup-colors",children:[Object(M.jsx)("span",{className:"green",onClick:function(){return t.setState({tags:Object(i.a)(Object(i.a)({},t.state.tags),{},{green:!t.state.tags.green})})},children:this.state.tags.green?Object(M.jsx)("i",{className:"fas fa-check"}):null}),Object(M.jsx)("span",{className:"yellow",onClick:function(){return t.setState({tags:Object(i.a)(Object(i.a)({},t.state.tags),{},{yellow:!t.state.tags.yellow})})},children:this.state.tags.yellow?Object(M.jsx)("i",{className:"fas fa-check"}):null}),Object(M.jsx)("span",{className:"orange",onClick:function(){return t.setState({tags:Object(i.a)(Object(i.a)({},t.state.tags),{},{orange:!t.state.tags.orange})})},children:this.state.tags.orange?Object(M.jsx)("i",{className:"fas fa-check"}):null}),Object(M.jsx)("span",{className:"red",onClick:function(){return t.setState({tags:Object(i.a)(Object(i.a)({},t.state.tags),{},{red:!t.state.tags.red})})},children:this.state.tags.red?Object(M.jsx)("i",{className:"fas fa-check"}):null}),Object(M.jsx)("span",{className:"purple",onClick:function(){return t.setState({tags:Object(i.a)(Object(i.a)({},t.state.tags),{},{purple:!t.state.tags.purple})})},children:this.state.tags.purple?Object(M.jsx)("i",{className:"fas fa-check"}):null}),Object(M.jsx)("span",{className:"blue",onClick:function(){return t.setState({tags:Object(i.a)(Object(i.a)({},t.state.tags),{},{blue:!t.state.tags.blue})})},children:this.state.tags.blue?Object(M.jsx)("i",{className:"fas fa-check"}):null})]})]}),Object(M.jsxs)("div",{className:"addPopup-detail",children:[Object(M.jsxs)("div",{className:"addPopup-detail__title",children:[Object(M.jsx)("i",{className:"fas fa-stream"}),Object(M.jsx)("h3",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})]}),Object(M.jsx)("textarea",{name:"detailInput",className:"addPopup-detail__input",placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435...",value:this.state.detailInput,onChange:this.inputHandler})]}),Object(M.jsxs)("div",{className:"addPopup__btns",children:[Object(M.jsx)("button",{className:"addPopup__buttonSave",onClick:this.saveCard,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(M.jsx)("button",{className:"addPopup__buttonClose",onClick:this.popupClose,children:Object(M.jsx)("i",{className:"fas fa-times"})})]})]})})}}]),a}(r.a.Component)),z=Object(j.b)((function(t){return{column:t.popup.column,card:t.popup.card}}),(function(t){return{getDataOfColumn:function(e,a){return t(D(e,a))},resetPopup:function(){return t({type:I})},createCard:function(e,a){return t(function(t,e){return function(){var a=Object(m.a)(h.a.mark((function a(n,r){var c,s,o,l,u,d,p,j,b;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c=r().popup,s=c.action,o=c.keyCol,l=c.keyCard,u=Object(i.a)({},r().main.lists),d=u[o].cards,"add"!==s){a.next=10;break}return p=d?Object.values(d).length:0,j={detail:t.detailInput,title:t.titleInput,order:p,tags:Object.keys(t.tags).filter((function(e){return t.tags[e]}))},n(H(j,o,e,u)),a.next=9,x.a.post("https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists/".concat(o,"/cards.json"),j);case 9:n(w());case 10:if("edit"!==s){a.next=18;break}return b=Object(i.a)(Object(i.a)({},d[l]),{},{detail:t.detailInput,title:t.titleInput,tags:Object.keys(t.tags).filter((function(e){return t.tags[e]}))}),u[o].cards[l]=b,n(S(u)),e(),a.next=17,x.a.put("https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists/".concat(o,"/cards/").concat(l,".json"),b);case 17:n(w());case 18:case"end":return a.stop()}}),a)})));return function(t,e){return a.apply(this,arguments)}}()}(e,a))}}}))(J),G=(a(79),function(){return Object(M.jsxs)("div",{className:"loader",children:[Object(M.jsx)("span",{className:"dot"}),Object(M.jsxs)("div",{className:"dots",children:[Object(M.jsx)("span",{}),Object(M.jsx)("span",{}),Object(M.jsx)("span",{})]})]})}),Q=a(5),X=a(41),Y=a.n(X),Z=function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).onDragEnd=function(e){var a=e.destination,n=e.source,r=e.draggableId,c=e.type;a&&!Y.a.isEqual(n,a)&&t.props.dragged(n.droppableId,a.droppableId,n.index,a.index,r,c)},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchData()}},{key:"render",value:function(){var t=this,e=A(this.props.lists,"asc");return Object(M.jsx)(T.a,{onDragEnd:this.onDragEnd,children:Object(M.jsxs)("div",{className:"App",children:[Object(M.jsx)("header",{className:"header",children:"My Trello"}),Object(M.jsx)(T.c,{droppableId:"all-lists",direction:"horizontal",type:"list",children:function(a){return Object(M.jsxs)("div",Object(i.a)(Object(i.a)({className:"app-container"},a.droppableProps),{},{ref:a.innerRef,children:[e?t.props.loading?Object(M.jsx)(G,{}):Object(M.jsx)(M.Fragment,{children:e.map((function(e,a){var n=Object(o.a)(e,2),r=n[0],c=n[1];return Object(M.jsx)(F,{id:r,list:c,index:a,renameTitle:t.props.renameTitle},r)}))}):null,a.placeholder,Object(M.jsx)(W,{})]}))}}),Object(M.jsx)(Q.a,{path:"/addCard/:id",component:function(){return Object(M.jsx)(z,{action:"add",history:t.props.history})}}),Object(M.jsx)(Q.a,{path:"/:id/edit/:id",component:function(){return Object(M.jsx)(z,{action:"edit",history:t.props.history})}})]})})}}]),a}(r.a.Component),$=Object(Q.e)(Object(j.b)((function(t){return{lists:t.main.lists,loading:t.main.loading,error:t.main.error}}),(function(t){return{fetchData:function(){return t(function(){var t=Object(m.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:g}),e(w());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},dragged:function(e,a,n,r,c,s){return t(function(t,e,a,n,r,c){return function(){var s=Object(m.a)(h.a.mark((function s(l,u){var d,p,j,b;return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return d=Object(i.a)({},u().main.lists),"card"===c&&(a=d[t].cards?Object.values(d[t].cards).length-a-1:0,n=d[e].cards?Object.values(d[e].cards).length-n-1:0,t===e?(a>n?Object.entries(d[t].cards).forEach((function(e){var r=Object(o.a)(e,2),c=r[0],s=r[1];n<=s.order&&s.order<a&&d[t].cards[c].order++})):Object.entries(d[t].cards).forEach((function(e){var r=Object(o.a)(e,2),c=r[0],s=r[1];a<s.order&&s.order<=n&&d[t].cards[c].order--})),d[t].cards[r].order=n):(p=d[t],(j=d[e]).cards&&n++,(b=p.cards[r]).order=n,delete p.cards[r],Object.entries(p.cards).forEach((function(t){var e=Object(o.a)(t,2),n=e[0];e[1].order>a&&p.cards[n].order--})),j.cards?Object.entries(j.cards).forEach((function(t){var e=Object(o.a)(t,2),a=e[0];e[1].order>=n&&j.cards[a].order++})):j.cards={},j.cards[r]=b)),"list"===c&&(console.log(a,n),a>n?Object.entries(d).forEach((function(t){var e=Object(o.a)(t,2),r=e[0],c=e[1];n<=c.order&&c.order<a&&d[r].order++})):Object.entries(d).forEach((function(t){var e=Object(o.a)(t,2),r=e[0],c=e[1];a<c.order&&c.order<=n&&d[r].order--})),d[r].order=n),l(S(d)),s.next=6,x.a.put("https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists.json",d);case 6:l(w());case 7:case"end":return s.stop()}}),s)})));return function(t,e){return s.apply(this,arguments)}}()}(e,a,n,r,c,s))},renameTitle:function(e,a){return t(function(t,e){return function(){var a=Object(m.a)(h.a.mark((function a(n,r){var c;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(c=Object(i.a)({},r().main.lists))[t].title=e,n(S(c)),a.next=5,x.a.put("https://react-trello-aa6b8-default-rtdb.firebaseio.com/lists/".concat(t,".json"),c[t]);case 5:case"end":return a.stop()}}),a)})));return function(t,e){return a.apply(this,arguments)}}()}(e,a))}}}))(Z)),tt=a(18),et={lists:[],loading:!1,error:null};var at={keyCol:"",keyCard:"",column:"",card:"",action:""};var nt=Object(tt.c)({main:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case g:return Object(i.a)(Object(i.a)({},t),{},{loading:!0});case y:return Object(i.a)(Object(i.a)({},t),{},{loading:!1,lists:e.lists?e.lists:[]});case C:return Object(i.a)(Object(i.a)({},t),{},{loading:!1,error:e.error});case k:case _:return Object(i.a)(Object(i.a)({},t),{},{lists:e.lists});default:return t}},popup:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case N:return Object(i.a)(Object(i.a)({},t),{},{column:e.column,card:e.card,action:e.action,keyCol:e.keyCol,keyCard:e.keyCard});case I:return{key:"",column:"",action:""};default:return t}}}),rt=a(42),ct=Object(tt.e)(nt,Object(tt.a)(rt.a));s.a.render(Object(M.jsx)(b.a,{children:Object(M.jsx)(j.a,{store:ct,children:Object(M.jsx)($,{})})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.dd722d11.chunk.js.map